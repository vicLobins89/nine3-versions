!function(){var e={250:function(){var e;e=new MutationObserver((function(t){var n=nine3v.page,a=document.querySelector(".components-popover__content");if(document.contains(a)){var r=a.querySelector(".editor-post-url__link");if(r){var o=r.querySelector(".editor-post-url__link-prefix"),i=r.querySelector(".editor-post-url__link-slug"),c=r.querySelector(".editor-post-url__link-suffix");o.innerText=n,i.remove(),c.remove()}e.disconnect()}})),window.onload=function(){!function(){var t=nine3v.page,n=t.replace(/(^\w+:|^)\/\//,""),a=document.querySelector('.edit-post-header__settings > a[aria-label="View Page"]');a&&a.setAttribute("href",t);var r=document.querySelector(".editor-post-url__panel-toggle");r||(r=document.querySelector(".edit-post-post-url__toggle")),r&&(r.innerText=n,r.addEventListener("click",(function(){e.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})})))}()}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}!function(){"use strict";var e=function(e,t,n){var a="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),a="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+a+"; path=/"},t=function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var r=n[a];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null},a=function(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=document.querySelector(".nine3v__overlay");if(n)n.innerHTML=e;else{n=document.createElement("div");var a=document.createTextNode(e);n.setAttribute("class","nine3v__overlay"),n.appendChild(a),document.body.appendChild(n)}setTimeout((function(){n.remove()}),t)},o=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==this.readyState){var o,l;if(!function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(c.response))return void console.log(c.response);switch(l=JSON.parse(c.response),i=null!==(o=l.delay)&&void 0!==o?o:i,document.body.classList.remove("nine3v--xhr"),l.offset&&l.total&&r("Adding post "+l.offset+" of "+l.total,i),l.message&&r(l.message,i),l.success||(r("Something went wrong, please check the logs."),console.log(l)),t){case"nine3v-edit":case"nine3v-add":l.target&&(window.location.href=(u=l.target,(new DOMParser).parseFromString(u,"text/html").documentElement.textContent));break;case"nine3v-view":if(l.rows){var s=document.querySelector("#the-list");s.innerHTML=l.rows;var d=new CustomEvent("XHRTrigger",{detail:s});document.dispatchEvent(d)}l.column_headers&&document.querySelectorAll("thead tr, tfoot tr").forEach((function(e){e.innerHTML=l.column_headers})),l.pagination.bottom&&(document.querySelector(".tablenav.top .tablenav-pages").innerHTML=l.pagination.bottom),l.pagination.top&&(document.querySelector(".tablenav.bottom .tablenav-pages").innerHTML=l.pagination.top);break;case"nine3v-clone":l.offset?e(t,n,l,3e5):l.complete&&window.location.reload();break;case"nine3v-move":case"nine3v-clone-page":case"nine3v-publish":case"nine3v-replace":window.location.reload();break;case"nine3v-delete":case"nine3v-clear":a("_nine3v_pageId"),a("_nine3v_pageTitle"),window.location.reload()}}var u},c.open("GET","".concat(nine3v.ajaxurl,"?action=").concat(t,"&nonce=").concat(nine3v.nonce,"&pageId=").concat(n,"&data=").concat(JSON.stringify(o))),c.send()};!function(){var n=document.querySelector(".nine3v-page-sidebar");if(n){var a=t("_nine3v_pageId"),i=t("_nine3v_pageTitle");document.body.classList.add("nine3v");var c=function(t,n){n.forEach((function(e){e.classList.remove("is-active")})),t.classList.add("is-active");var r=document.querySelector(".nine3v-page-sidebar__toolbar-wrap");a=t.getAttribute("data-page-id"),i=t.querySelector(".page-title").innerHTML,r.classList.add("is-active"),e("_nine3v_pageId",a),e("_nine3v_pageTitle",i)},l=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toggle",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t&&t.classList[a]("is-active");var o=n.querySelector(".nested");if(o&&o.classList[a]("is-active"),r){var i=n.querySelector(".page-item").getAttribute("data-parent-id"),c=document.querySelector('[data-page-id="'.concat(i,'"]'));if(c){var l=c.parentElement;e(l.querySelector(".page-toggle"),l,"add",!0)}}};document.querySelectorAll(".page-toggle").forEach((function(e){e.addEventListener("click",(function(){l(e,e.parentElement)}))}));var s=document.querySelectorAll(".page-item");if(s.forEach((function(e){e.addEventListener("click",(function(){c(e,s);var t=e.parentElement,n=t.querySelector(".page-toggle");t&&n&&l(n,t,"add"),window.location.href.indexOf("post_status=trash")<0&&(r("Loading Pages...",1e5),o("nine3v-view",a))}))})),a){var d=document.querySelector('[data-page-id="'.concat(a,'"]'));if(!d)return;c(d,s);var u=d.parentElement,v=u.querySelector(".page-toggle");l(v,u,"add",!0);for(var p=["post_status","author","orderby","order","s"],f=window.location.search,g=new URLSearchParams(f),m={},h=0;h<p.length;h++)g.has(p[h])&&(m[p[h]]=g.get(p[h]));window.location.href.indexOf("post_status=trash")<0&&(r("Loading Pages...",1e5),o("nine3v-view",a,m))}document.querySelectorAll(".page-action").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-page-action");if(t&&a){var r={};switch(t){case"nine3v-add":case"nine3v-clone":var c=prompt("Please enter the page title","nine3v-add"===t?"New post draft":i);if(null===c)return;r.title=c;break;case"nine3v-move":return void function(){var e=document.querySelector(".nine3v-page-sidebar__pages-wrap");if(!e)return!1;var t=e.cloneNode(!0);e.parentNode.appendChild(t);var r=t.querySelector(".nine3v-page-sidebar__buttons"),i=t.querySelector(".nine3v-page-sidebar__cancel"),c=t.querySelector(".nine3v-page-sidebar__accept"),s=t.querySelector(".nine3v-page-sidebar__root");n.classList.add("highlight"),t.classList.add("highlight"),r.classList.add("show");var d=!1;t.querySelectorAll(".page-toggle").forEach((function(e){e.addEventListener("click",(function(){l(e,e.parentElement)}))}));var u=t.querySelectorAll(".page-item");u.forEach((function(e){e.addEventListener("click",(function(){u.forEach((function(e){e.classList.remove("select-parent")})),e.classList.add("select-parent"),d=e.getAttribute("data-page-id"),c.removeAttribute("disabled")}))})),c.addEventListener("click",(function(){if(d){var e={parentId:d};document.body.classList.add("nine3v--xhr"),o("nine3v-move",a,e)}})),s.addEventListener("click",(function(){document.body.classList.add("nine3v--xhr"),o("nine3v-move",a,{parentId:0})})),i.addEventListener("click",(function(){n.classList.remove("highlight"),t.remove()}))}();case"nine3v-delete":if("DELETE"!==prompt('This will delete the entire page tree, please type "DELETE" to confirm',""))return;break;case"nine3v-replace":if(r.from=prompt("Search for",""),!r.from)return;if(r.to=prompt("Replace with",""),!r.to)return;if("CONFIRM"!==prompt('This will replace all instances of "'.concat(r.from,'" to "').concat(r.to,'" in the selected page tree, please type "CONFIRM" to proceed'),""))return;break;case"nine3v-publish":if("CONFIRM"!==prompt('This will publish the entire page tree, please type "CONFIRM" to confirm',""))return}document.body.classList.add("nine3v--xhr"),o(t,a,r)}}))}))}}(),function(){var e=function e(t,n){t.classList.remove("is-active"),n.style.display="none";var a=parseInt(n.dataset.id);document.querySelectorAll('[data-parent="'.concat(a,'"]')).forEach((function(t){e(n,t)}))},n=function(e){e.querySelectorAll(".row-actions .clone-page a").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.closest("tr").id.substring(5);document.body.classList.add("nine3v--xhr"),o("nine3v-clone-page",n)}))}))},a=function(e){e.querySelectorAll(".row-actions .clone a").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.closest("tr"),a=n.id.substring(5),r={},i=n.querySelector(".post_title").innerHTML,c=prompt("Please enter the page title",i);null!==c&&(r.title=c,document.body.classList.add("nine3v--xhr"),o("nine3v-clone",a,r))}))}))},r=function(t){t.forEach((function(t){var n=t.querySelector(".nine3v__collapse");n&&n.addEventListener("click",(function(a){if(a.target==n){a.preventDefault();var r=parseInt(t.dataset.id);document.querySelectorAll('[data-parent="'.concat(r,'"]')).forEach((function(n){"none"===n.style.display?(t.classList.add("is-active"),n.style.display="table-row"):e(t,n)}))}}))}))},i=function(e){if(!(window.location.href.indexOf("post_status=trash")>-1)){var t=[];e.forEach((function(e){var n=parseInt(e.dataset.parent),a=document.querySelector('[data-id="'.concat(n,'"]'));if(a){var r=a.querySelector(".nine3v__collapse");if(!r){var o=a.querySelector(".row-title");(r=document.createElement("span")).setAttribute("class","nine3v__collapse"),o&&o.prepend(r)}a.before(e),e.style.display="none",-1===t.indexOf(n)&&t.push(n)}})),(t=t.reverse()).forEach((function(e){var t=document.querySelector('[data-id="'.concat(e,'"]')),n=document.querySelector('[data-parent="'.concat(e,'"]'));t&&n&&n.before(t)})),r(e),function(e){e.forEach((function(e){var t=e.querySelector(".nine3v__order");if(t){var n=parseInt(e.dataset.id);t.addEventListener("change",(function(){var e={order:t.value};o("nine3v-order",n,e,500)}))}}))}(e)}},c=function(e,t){var n=e.querySelector(".nine3v__expand-all"),a=e.querySelector(".nine3v__collapse-all");n.addEventListener("click",(function(){t.forEach((function(e){e.classList.add("is-active"),e.style.display="table-row"}))})),a.addEventListener("click",(function(){t.forEach((function(e){var t=parseInt(e.dataset.parent);document.querySelector('[data-id="'.concat(t,'"]'))&&(e.style.display="none"),e.classList.remove("is-active")}))}))},l=function(e){var t=e.querySelectorAll("tr.iedit");return t.forEach((function(e){var t=e.querySelector(".post_parent").innerHTML,n=e.id.substring(5);e.setAttribute("data-id",n),e.setAttribute("data-parent",t)})),t},s=document.querySelector("#the-list");if(s){var d=l(s);i(d),n(s),a(s);var u=document.querySelector("#posts-filter");u&&function(e,t){var n=document.createElement("a"),a=document.createTextNode("Expand all");n.appendChild(a),n.setAttribute("class","nine3v__expand-all"),e.appendChild(n);var r=document.createElement("a"),o=document.createTextNode("Collapse all");r.appendChild(o),r.setAttribute("class","nine3v__collapse-all"),e.appendChild(r),c(e,t)}(u,d),document.addEventListener("XHRTrigger",(function(e){if(e.detail){d=l(e.detail),i(d),c(u,d),n(e.detail),a(e.detail);var r=t("_nine3v_pageId");if(r){var o=document.querySelector('[data-id="'.concat(r,'"]'));document.querySelectorAll('[data-parent="'.concat(r,'"]')).forEach((function(e){"none"===e.style.display&&(o.classList.add("is-active"),e.style.display="table-row")}))}}}))}}(),n(250)}()}();